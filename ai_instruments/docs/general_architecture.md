# Общая Архитектура проекта Generia

## Обзор

Generia представляет собой клон Instagram, построенный на микросервисной архитектуре. Проект разработан с использованием современных технологий и паттернов проектирования для обеспечения масштабируемости, отказоустойчивости и удобства разработки.

## Архитектурный паттерн

- **Микросервисная архитектура** с четким разделением ответственности между сервисами
- **API Gateway** как единая точка входа для всех внешних запросов
- **gRPC** для внутренней коммуникации между сервисами
- **REST API** для взаимодействия с внешними клиентами

## Инфраструктура

- **Service Discovery** с использованием Consul для регистрации и обнаружения сервисов
- **Распределенная трассировка** с использованием Jaeger
- **Мониторинг** с использованием Prometheus и Grafana
- **Обмен событиями** с использованием Kafka
- **Контейнеризация** с использованием Docker и Docker Compose

## Базы данных

- **PostgreSQL** для хранения данных пользователей, постов и медиафайлов
- **Redis** для кэширования и управления лентой новостей
- **MongoDB** для хранения данных взаимодействий пользователей
- **MinIO** для хранения пользовательских медиафайлов

## Диаграмма архитектуры

```
+-------------------+
|                   |
|     Клиенты       |
|  (Web, Mobile)    |
|                   |
+--------+----------+
         |
         | HTTP/REST
         v
+--------+----------+
|                   |
|   API Gateway     |
|                   |
+--------+----------+
         |
         | gRPC
         v
+--------+----------+       +-------------------+       +-------------------+
|                   |       |                   |       |                   |
|  Auth Service     +------>+  Post Service     +------>+  Media Service    |
|                   |       |                   |       |                   |
+-------------------+       +--------+----------+       +-------------------+
                                     |
                                     |
                                     v
                            +--------+----------+       +-------------------+
                            |                   |       |                   |
                            | Interaction       +------>+  Feed Service     |
                            | Service           |       |                   |
                            +--------+----------+       +-------------------+
                                     |
                                     |
                                     v
                            +--------+----------+       +-------------------+
                            |                   |       |                   |
                            |  Cache Service    +------>+  CDN Service      |
                            |                   |       |                   |
                            +-------------------+       +-------------------+
```

## Масштабируемость и отказоустойчивость

- Каждый сервис может быть масштабирован горизонтально независимо от других
- Использование Service Discovery позволяет динамически обнаруживать экземпляры сервисов
- Применение паттерна Circuit Breaker для предотвращения каскадных отказов
- Кэширование для снижения нагрузки на базу данных и повышения производительности

## Технологический стек

- **Языки программирования**: Go (бэкенд), TypeScript/React (фронтенд)
- **Коммуникация**: gRPC, REST
- **Базы данных**: PostgreSQL, Redis
- **Контейнеризация**: Docker, Docker Compose
- **Мониторинг и трассировка**: Prometheus, Jaeger
- **Service Discovery**: Consul
