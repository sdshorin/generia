### prompt 1

Создай MVP клона Instagram на go. Подробные инструкции написаны в README.md (больше файлов в директории нет). 

### prompt 2
"запусти проект"

## Обнаружил, что Claude Code все равно сделал монолит, хотя в промпте было указано иное. Создал пример микросервиса в Claude3.7, закинул `service/api-gateway/cmd/main.go`

### prompt 3

Я пишу свой проект - MVP клон Instagram. У меня были написаны какие-то сервисы, но они были сделаны в формате монолита. Я хочу использовать микросервисную архитектуру. файлы api для общения между сервисами хранятся в ./api/proto. старые монолитные сервисы - в ./pkg.  Новые сервисы - ./services, например, ./services/api-gateway. Сейчас частично реализован только service/api-gateway/cmd/main.go  и service/api-gateway/handlers/post.go (кстати, тут в том числе вместо  opentracing нужно использовать OpenTelemetry Go ). Я не запускал еще этот проект, так что в нем наверняка содержатся ошибки. Но общая структура такая: я хочу именно микросервисную архитектуру, которая будет соответствовать MVP (нужны только пользователи, посты, лайки и комментарии - ничего больше). и мне нужен для начала возможность поднять этот проект в docker, чтобы протестировать его. так же общая архитектура примерно представлена в README.md. Напиши код backend моего MVP клона Instagram


### prompt 4

я работаю над клоном instagram mvp. У меня раньше был сделан прототип на монолите (./pkg/*.go), но я переписал его на микросервисы ./services/**/**/*.go (еще ни разу не запускал код). я хочу запустить эти микросервисы (./docker-compose.yml). доведи проект до рабочего состояния и запусти эти микросервисы

### prompt 5

я работаю над клоном instagram mvp. У меня раньше был сделан прототип на монолите (./pkg/*.go), но я переписал его на микросервисы ./services/**/**/*.go (еще ни разу не запускал код). я\n  хочу запустить эти микросервисы (./docker-compose.yml). доведи проект до рабочего состояния и запусти эти микросервисы. Результаты последнего запуска лежат в ./last_run_result.md. Не запкскай docker-compose up самостоятельно - эта команда слишком долго работает, из-за чего агент прерывается

### prompt 6-7
- обновил last_run_result.md
- обратная совместимость не нужна, проект ни разу не запускался
- "я только что впервые запустил свой проект с помощью docker-compose up -d и все контейнеры удачно поднялись, но в docker deamon пишется, что контейнеры постоянно находятся в restarting. Исправь проект, чтобы я смог полноценно его запустить и воспользоваться",
        
### prompt 8

" я только что впервые запустил свой проект с помощью docker-compose up -d и все контейнеры удачно поднялись, но в docker deamon пишется, что контейнеры постоянно находятся в restarting. Исправь проект, чтобы я смог полноценно\n  его запустить и воспользоваться. как я вижу, проблема с адресом у каждого контейнера. Вот логи: DEBUG: Service registration details: ID=auth-service-0.0.0.0, Name=auth-service, Address=0.0.0.0, Port=8081\n2025-04-04T21:56:30.827Z    DEBUG    discovery/consul.go:42    Attempting to register service with Consul    {\"serviceID\": \"auth-service-0.0.0.0\", \"name\": \"auth-service\", \"host\": \"0.0.0.0\", \"port\": 8081, \"tags\": [\"auth\", \"api\"]}\n2025-04-04T21:56:30.828Z    FATAL    cmd/main.go:85    Failed to register service    {\"error\": \"Unexpected response code: 400 (Invalid service address)\"}. Так же проблема в том, что используется единый файл конфига на все микросервисы - возможно, это нужно изменить, и часть конфига разнести по микросервисам? (учиывай, что я сейчас для тестирования работаю в docker, но в будущем планирую исаользовать k8s",


### prompt 9

"я только что впервые запустил свой проект с помощью docker-compose up -d и все контейнеры удачно поднялись, но в логах пишется, что есть множество проблем. Исправь проект, чтобы я смог полноценно   его запустить и воспользоваться. можешь посмотреть на ошибки в docker logs instagram-api-gateway. Так же можешь прочитать docker-compose.yml чтобы ознакомиться с проектом.  (учитывай, что я сейчас для тестирования работаю в docker, но в будущем планирую использовать k8s)",


### prompt 10
"\nя только что впервые запустил свой проект с помощью docker-compose up -d и все контейнеры удачно поднялись.\nНо я захожу на http://localhost:80 и вижу на фронтенде, что есть ошибки.\n\n(текст ошибок написал в last_run_result.md)\n\nИсправь проект, чтобы я смог полноценно его запустить. Можешь прочитать docker-compose.yml чтобы ознакомиться с проектом.  (учитывай, что я сейчас для тестирования работаю в docker, но в будущем планирую использовать k8s)\n\nСейчас все контейнеры запущены.",


Примерная сумма за день на Claude Code - 20$