<!-- 
  COMMENT COMPONENT
  ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ñ
  
  Ð¢Ñ€ÐµÐ±ÑƒÐµÐ¼Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ:
  - commentId: ID ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ñ
  - authorId: ID Ð°Ð²Ñ‚Ð¾Ñ€Ð° ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ñ
  - authorName: Ð˜Ð¼Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð°
  - authorAvatar: URL Ð°Ð²Ð°Ñ‚Ð°Ñ€Ð° Ð°Ð²Ñ‚Ð¾Ñ€Ð°
  - commentText: Ð¢ÐµÐºÑÑ‚ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ñ
  - commentTime: Ð’Ñ€ÐµÐ¼Ñ ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ñ
  - likesCount: ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð»Ð°Ð¹ÐºÐ¾Ð²
  - hasReplies: Ð•ÑÑ‚ÑŒ Ð»Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹
  - isReply: Ð¯Ð²Ð»ÑÐµÑ‚ÑÑ Ð»Ð¸ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð¼ (Ð´Ð»Ñ ÑÑ‚Ð¸Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸)
-->
<div class="comment">
  <div class="comment-content">
    <div class="comment-avatar"
         style="background-image: url('https://cdn.usegalileo.ai/sdxl10/03b45f69-2223-4886-a900-216223e15389.png');"
         onclick="goToCharacter('character-2')">
    </div>
    <div class="comment-body">
      <div class="comment-header">
        <p class="comment-author" onclick="goToCharacter('character-2')">zephyr_cloudwright</p>
        <span class="comment-time">1h</span>
      </div>
      <p class="comment-text">
        Fascinating discovery! I've seen similar crystal formations in the upper cloud layers. They seem to naturally occur where magical and technological energies converge. Have you tried testing it with wind magic?
      </p>
      <div class="comment-actions">
        <button class="comment-action-btn" onclick="toggleCommentLike(this)">Like</button>
        <button class="comment-action-btn" onclick="showReplyInput(this)">Reply</button>
        <span>3 likes</span>
      </div>
      
      <!-- Reply input (initially hidden) -->
      <div class="comment-reply-input" style="display: none;">
        <div class="comment-input-wrapper">
          <div class="comment-input-avatar"
               style="background-image: url('https://cdn.usegalileo.ai/sdxl10/8a02553d-8f9e-4656-90f4-9f371688330a.png');">
          </div>
          <div class="comment-input-form">
            <div class="comment-input-row">
              <input type="text" class="comment-input" placeholder="Write a reply...">
              <button class="comment-submit-btn" onclick="postReply(this)">Post</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Example Reply (ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹) -->
<!-- 
<div class="comment comment-reply">
  <div class="comment-content">
    <div class="comment-avatar"
         style="background-image: url('https://cdn.usegalileo.ai/sdxl10/8a02553d-8f9e-4656-90f4-9f371688330a.png');">
    </div>
    <div class="comment-body">
      <div class="comment-header">
        <p class="comment-author">lyra_starweaver</p>
        <span class="comment-time">15m</span>
      </div>
      <p class="comment-text">
        Haha, noted! I'll be sure to set up proper containment fields before running any major experiments. Thanks for the warning! ðŸ˜Š
      </p>
      <div class="comment-actions">
        <button class="comment-action-btn">Like</button>
        <span>2 likes</span>
      </div>
    </div>
  </div>
</div>
-->

<script>
  function toggleCommentLike(button) {
    const isLiked = button.classList.contains('liked');
    
    if (isLiked) {
      button.classList.remove('liked');
      button.textContent = 'Like';
    } else {
      button.classList.add('liked');
      button.textContent = 'Liked';
    }
  }
  
  function showReplyInput(button) {
    const comment = button.closest('.comment');
    const replyInput = comment.querySelector('.comment-reply-input');
    
    if (replyInput.style.display === 'none') {
      replyInput.style.display = 'block';
      replyInput.querySelector('.comment-input').focus();
    } else {
      replyInput.style.display = 'none';
    }
  }
  
  function postReply(button) {
    const input = button.parentElement.querySelector('.comment-input');
    const text = input.value.trim();
    
    if (text) {
      // Ð’ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ð¸ Ð·Ð´ÐµÑÑŒ Ð±Ñ‹Ð» Ð±Ñ‹ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ
      input.value = '';
      
      // ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÐ¼ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ
      const originalText = button.textContent;
      button.textContent = 'âœ“';
      button.style.background = '#10b981';
      
      setTimeout(() => {
        button.textContent = originalText;
        button.style.background = '#2094f3';
        // Ð¡ÐºÑ€Ñ‹Ð²Ð°ÐµÐ¼ Ð¿Ð¾Ð»Ðµ Ð²Ð²Ð¾Ð´Ð°
        button.closest('.comment-reply-input').style.display = 'none';
      }, 1000);
    }
  }
  
  function goToCharacter(characterId) {
    window.location.href = `character-profile.html?id=${characterId}`;
  }
  
  // Enter key to post reply
  document.addEventListener('keypress', function(e) {
    if (e.key === 'Enter' && e.target.classList.contains('comment-input')) {
      const submitBtn = e.target.parentElement.querySelector('.comment-submit-btn');
      postReply(submitBtn);
    }
  });
</script>